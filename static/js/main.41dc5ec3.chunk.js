(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,n){},157:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(30),r=n.n(l),s=(n(157),n(6)),o=n.p+"static/media/TU-Wien-Logo.8d33c646.png",c=(n(120),n(1)),u=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("section",{style:{textAlign:"center"},children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("img",{style:{float:"left",width:200,height:"auto",marginTop:"1rem"},src:o,alt:"TU Wien Logo"})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("h1",{style:{fontSize:"4rem",textTransform:"uppercase",marginBottom:0},children:"Reifegradmodell"}),Object(c.jsx)("h2",{style:{marginTop:8},children:"der Instandhaltung"})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("p",{style:{marginTop:24},children:["Mit diesem Tool ist es m\xf6glich den unternehmenseigenen Reifegrad der Instandhaltung zu berechnen.",Object(c.jsx)("br",{}),"Es werden vier Faktoren: Datenqualit\xe4t D",Object(c.jsx)("sub",{children:"Q"}),", Informationsqualit\xe4t I",Object(c.jsx)("sub",{children:"Q"}),", Wissensqualit\xe4t K",Object(c.jsx)("sub",{children:"Q"})," und Instandhaltungsqualit\xe4t K",Object(c.jsx)("sub",{children:"Q"})," zur Berechnung herangezogen. ",Object(c.jsx)("br",{}),"Visuell unterst\xfctzt werden die Ergebnisse mit interaktiven Diagrammen."]})})]})})})},d=n(237),g=n(244),m=function(e){return Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)("section",{style:{marginTop:40,textAlign:"center",backgroundColor:"#e6f5ff",padding:40},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{style:{fontSize:"2em",textTransform:"uppercase",textDecoration:"underline"},children:"Ergebnis"})}),Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:"Hier wird der berechnete Reifegrad gem\xe4\xdf Ihrer Angaben aufgef\xfchrt."})}),Object(c.jsxs)("div",{style:{marginTop:40},children:[Object(c.jsxs)(d.a,{title:"Ihr momentaner Reifegrad",style:{width:300,margin:"auto"},children:[Object(c.jsxs)("p",{children:[(100*e.maturityLevel).toFixed(2)," %"]}),Object(c.jsxs)("span",{style:{fontStyle:"italic",fontWeight:"bold",fontSize:16},children:["Reifegrad ",function(){var t="nicht berechnet";return e.maturityLevel<=.15?"I":.15<e.maturityLevel&&e.maturityLevel<=.55?"II":.56<e.maturityLevel&&e.maturityLevel<=.86?"III":.87<e.maturityLevel&&e.maturityLevel<=1?"IV":t}()]}),Object(c.jsx)("span",{style:{marginLeft:8},children:Object(c.jsx)(g.a,{style:{color:function(){var t="#FFFFFF";return e.maturityLevel<=.15?"#FF0000":.15<e.maturityLevel&&e.maturityLevel<=.55?"#ff8e03":.56<e.maturityLevel&&e.maturityLevel<=.86?"#FFE000":.87<e.maturityLevel&&e.maturityLevel<=1?"#4EEE94":t}()}})})]}),Object(c.jsx)("div",{style:{fontSize:10,overflow:"hidden",textOverflow:"ellipsis",width:" 100%",marginTop:16},children:"RG I ... 0-15%, RG II ... 16-55%, RG III ... 56-86%, RG IV ... 87-100%"})]})]})})})},h=n(236),j=n(40),b=n(241),p=n(238),f=n(235),x=n(243),O=n(147),v=n(240),y=n(242),w=n(239);function I(e){var t=p.a.useForm(),n=Object(s.a)(t,1)[0],a=i.a.useState(!0),l=Object(s.a)(a,2),r=l[0],o=l[1],u=i.a.useState(0),d=Object(s.a)(u,2),g=d[0],m=d[1];function h(e){var t=0,n=0;if(e.active){for(var a=0,i=Object.entries(e);a<i.length;a++){var l=Object(s.a)(i[a],2),r=(l[0],l[1]);if(Number.isFinite(r)){r<=.5?(t+=1.3*r,n+=1.3):(t+=r,n+=1)}}n&&m(t/n)}}return i.a.useEffect((function(){console.log("reset effect",n),n&&n.resetFields(),m(0),o(!0)}),[n,e.reset]),i.a.useEffect((function(){if(n&&e.initialValues){var t;n.resetFields();var a={};e.columns.forEach((function(t,n){var i;a[t.name]=null===(i=e.initialValues)||void 0===i?void 0:i.values[n]})),a.description=null===(t=e.initialValues)||void 0===t?void 0:t.description,n.setFieldsValue(a),h(n.getFieldsValue()),n.submit()}o(!0)}),[e.initialValues,n]),Object(c.jsxs)(p.a,{form:n,name:e.tableID+"_"+e.row.toString(),style:{display:"grid",gridTemplateColumns:"repeat(".concat(2+e.columns.length+1,", 1fr)"),justifyItems:"center",columnGap:16,rowGap:16},onValuesChange:function(e,t){h(t)},initialValues:{active:!0,description:"".concat(e.sourceInputPlaceholder," ").concat(e.row+1)},children:[Object(c.jsx)(p.a.Item,{name:"description",children:Object(c.jsx)(v.a,{style:{marginTop:6}})}),Object(c.jsx)(p.a.Item,{name:"active",valuePropName:"checked",children:Object(c.jsx)(y.a,{style:{marginTop:6},checked:r,onChange:function(t){o(t.target.checked),e.onActiveChange&&e.onActiveChange(t.target.checked)}})}),e.columns.map((function(t,n){return Object(c.jsx)(p.a.Item,{name:t.name,rules:[{required:!1,message:"Zahl zwischen 0 & 1 mit 2 Dezimalstellen"}],children:Object(c.jsx)(w.a,{disabled:!r,size:"small",min:"0",max:"1",step:"0.01",precision:2},e.tableID+"_"+n)},n)})),Object(c.jsx)("div",{style:{height:"24px",marginTop:4,color:r?"#000":"#ccc"},children:g.toFixed(2)},e.tableID+"_")]})}function k(e){var t=p.a.useForm(),n=Object(s.a)(t,1)[0];return i.a.useEffect((function(){n&&n.resetFields()}),[n,e.reset]),Object(c.jsxs)(p.a,{form:n,style:{display:"grid",gridTemplateColumns:"repeat(".concat(2+e.columns.length+1,", 1fr)"),justifyItems:"center",columnGap:16},name:"targetValues",children:[Object(c.jsx)("span",{style:{fontWeight:"bold",textDecoration:"underline",marginTop:6,overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:e.rowTitle}),Object(c.jsx)("div",{}),e.columns.map((function(t,n){return Object(c.jsx)(p.a.Item,{name:e.tableID+"_targetValue_"+t.name,rules:[{required:!1,type:"regexp",message:"TODO"}],children:Object(c.jsx)(w.a,{size:"small",min:"0",max:"1",step:"0.01",precision:2},e.tableID+"_"+n)},n)}))]})}function F(e){return Object(c.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(2+e.values.length+1,", 1fr)"),justifyItems:"center",columnGap:16,rowGap:16},children:[Object(c.jsx)("span",{style:{fontWeight:"bold",textDecoration:"underline",marginTop:6,overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:"Aggregation"}),Object(c.jsx)("div",{}),e.values.map((function(t,n){return Object(c.jsx)("div",{style:{height:"24px"},children:t},e.tableID+"_"+n)}))]})}var C=n(82),E=n.n(C),V=n(245),D=n(246),S=n(151),T=n(247),z=n(76),N=n.n(z);function R(e){for(var t=[],n=0;n<e.columns.length;n++)t.push(0);for(var a=[],l=0;l<e.rowsCount;l++)a.push(0);for(var r=[],o=0;o<e.rowsCount;o++)r.push("".concat(e.sourceInputPlaceholder," ").concat(o+1));var u=i.a.useState(t),m=Object(s.a)(u,2),v=m[0],y=m[1],w=i.a.useState(a),C=Object(s.a)(w,2),z=C[0],R=C[1],L=i.a.useState(r),P=Object(s.a)(L,2),A=P[0],W=P[1],q=i.a.useState(0),K=Object(s.a)(q,2),Q=K[0],_=K[1],G=i.a.useState([]),B=Object(s.a)(G,2),Z=B[0],U=B[1],M=i.a.useState(!1),H=Object(s.a)(M,2),J=H[0],X=H[1],Y=i.a.useState(null),$=Object(s.a)(Y,2),ee=$[0],te=$[1],ne=i.a.useState(0),ae=Object(s.a)(ne,2),ie=ae[0],le=ae[1],re=i.a.useState([]),se=Object(s.a)(re,2),oe=se[0],ce=se[1],ue=i.a.useState(),de=Object(s.a)(ue,2),ge=de[0],me=de[1],he=function(){var t=0;return v.forEach((function(n,a){var i=e.columns[a].weight*n;t+=i})),t},je=h.a.Dragger,be=e.columns.map((function(e){return e.name})),pe=Array.from({length:e.rowsCount>ie?e.rowsCount:ie},(function(e,t){return t})).map((function(t){return Object(c.jsx)(I,{columns:e.columns,row:t,sourceInputPlaceholder:e.sourceInputPlaceholder,tableID:e.tableID,reset:Q,initialValues:oe[t]},t)}));return Object(c.jsxs)("div",{style:{textAlign:"center",background:e.backgroundColor,padding:40,marginTop:40},children:[Object(c.jsx)("h1",{style:{textTransform:"uppercase"},children:e.title}),Object(c.jsx)("p",{children:e.description}),Object(c.jsxs)("div",{style:{justifyContent:"flex-end",display:"flex",marginTop:16},children:[Object(c.jsx)("span",{style:{textAlign:"center",marginRight:20,marginTop:10},children:".csv"}),Object(c.jsx)(j.a,{onClick:function(){X(!0)},type:"primary",icon:Object(c.jsx)(V.a,{}),size:"large",style:{marginRight:16}}),Object(c.jsx)(b.a,{title:".csv Upload - "+e.title,visible:J,onOk:function(){X(!1),ee&&ee.originFileObj&&N.a.parse(ee.originFileObj,{complete:function(t){var n=[];t.data.forEach((function(t,a){if(0===a||t.length<2)console.log("Heading or empty row!");else if(a>0&&t.length<=e.columns.length+1){for(var i={description:t[0],values:[]},l=1;l<t.length;l++)""===t[l]?i.values.push(void 0):i.values.push(parseFloat(t[l]));n.push(i)}})),le(n.length),ce(n)}}),te(null)},onCancel:function(){X(!1),te(null)},destroyOnClose:!0,children:Object(c.jsxs)(je,{accept:".csv",beforeUpload:function(){return!1},multiple:!1,maxCount:1,name:"file",onChange:function(e){if(e.fileList.length>0){var t=e.fileList[0];te(t)}},children:[Object(c.jsx)("p",{className:"ant-upload-drag-icon",children:Object(c.jsx)(D.a,{})}),Object(c.jsx)("p",{className:"ant-upload-text",children:"F\xfcgen Sie Dateien per Klick oder Drag and Drop hinzu."}),Object(c.jsx)("p",{className:"ant-upload-hint",children:"Es sind nur .csv Dateien erlaubt."})]})}),Object(c.jsx)(j.a,{onClick:function(){for(var t=[],n=0,a=Object.entries(ge);n<a.length;n++){var i=Object(s.a)(a[n],2),l=i[0],r=i[1];"targetValues"!==l&&function(){var n=[],a=r.getFieldsValue();n.push(a.description),e.columns.forEach((function(e,t){n.push(a[e.name])})),t.push(n)}()}var o=e.columns.map((function(e){return e.name}));o.unshift(e.sourceTitle);var c=new Blob([N.a.unparse({data:t,fields:o})]),u=document.createElement("a");u.href=URL.createObjectURL(c),u.download="".concat(e.title,"_CSV_Export_File.csv"),document.body.appendChild(u),u.click(),document.body.removeChild(u)},type:"primary",icon:Object(c.jsx)(S.a,{}),size:"large"})]}),Object(c.jsxs)("div",{style:{marginTop:40,display:"grid",gridTemplateColumns:"repeat(".concat(2+e.columns.length+1,", 1fr)"),justifyItems:"center",columnGap:16,rowGap:4},children:[Object(c.jsx)("span",{style:{fontWeight:"bold",textDecoration:"underline",overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:e.sourceTitle}),Object(c.jsx)("span",{style:{fontWeight:"bold",textDecoration:"underline",overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:"An/Aus"}),e.columns.map((function(e,t){return Object(c.jsx)("span",{style:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:e.name},t)})),Object(c.jsx)("span",{style:{fontWeight:"bold",textDecoration:"underline",overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:"Aggregation"})]}),Object(c.jsxs)(p.a.Provider,{onFormChange:function(t,n){if(me(n.forms),"targetValues"===t){var a=n.forms.targetValues,i=[];e.columns.forEach((function(t,n){var l=a.getFieldValue(e.tableID+"_targetValue_"+t.name);i[n]=void 0!==l?l:0})),U(i)}else{for(var l=[],r=0;r<e.columns.length;r++)l[r]=0;e.columns.forEach((function(e,t){for(var a=0,i=0,r=0,o=Object.entries(n.forms);r<o.length;r++){var c=Object(s.a)(o[r],2),u=(c[0],c[1]);if(u.getFieldValue("active")){var d=u.getFieldValue(e.name);void 0!==d&&(d<=.5?(a+=1.3*d,i+=1.3):(a+=d,i+=1),l[t]=a/i)}}})),y(l);for(var o=[],c=[],u=function(){var t=Object(s.a)(g[d],2),n=t[0],a=t[1];if("targetValues"!==n){var i=0,l=0;a.getFieldValue("active")&&(e.columns.forEach((function(e,t){var n=a.getFieldValue(e.name);Number.isFinite(n)&&(n<=.5?(i+=1.3*n,l+=1.3):(i+=n,l+=1))})),c.push(a.getFieldValue("description")),l?o.push(i/l):o.push(0))}},d=0,g=Object.entries(n.forms);d<g.length;d++)u();R(o),W(c)}e.onQualityLevelChange(he()*e.maturityWeight)},children:[pe,Object(c.jsx)(f.a,{}),Object(c.jsx)(F,{values:v.map((function(e){return e.toFixed(2)})),tableID:e.tableID}),Object(c.jsx)(k,{columns:e.columns,row:e.rowsCount+1,rowTitle:"Sollwert",tableID:e.tableID,reset:Q}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(c.jsx)(x.a,{icon:Object(c.jsx)(T.a,{style:{color:"red"}}),title:"Wollen Sie die Werte dieses Abschnitts wirklich zur\xfccksetzen?",okText:"OK",cancelText:"Abbrechen",onConfirm:function(){ce([]);for(var t=0;t<e.columns.length;t++)v[t]=0;R(a),U([]),W(r),e.onQualityLevelChange(0),_(Q+1),O.b.success("Daten wurden erfolgreich zur\xfcckgesetzt!")},children:Object(c.jsx)(j.a,{type:"text",danger:!0,style:{marginRight:16,marginTop:24},children:"Zur\xfccksetzen"})})}),Object(c.jsx)("div",{style:{textAlign:"center",marginTop:4},children:e.tableLegend.map((function(e,t){return Object(c.jsx)("span",{style:{fontSize:10,overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:e.shortcut+"..."+e.name+", "},t)}))}),Object(c.jsx)(f.a,{}),Object(c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:40},children:[Object(c.jsx)(E.a,{options:{chart:{id:e.resultInitials+"IndikatorenDiagramm"},xaxis:{categories:be,labels:{show:!0,style:{colors:["#000","#000","#000","#000","#000","#000","#000","#000","#000","#000"],fontSize:"12px"}}},yaxis:{forceNiceScale:!0,min:0,max:1,labels:{maxWidth:1,style:{colors:["#000"]},formatter:function(e,t){return e.toFixed(2)}}},legend:{markers:{fillColors:["#ff8e03","#0a9bf0"]}},stroke:{show:!0,colors:["#ff8e03","#0a9bf0"]},fill:{colors:["#ff8e03","#0a9bf0"],opacity:.1},markers:{size:4,colors:["#ff8e03","#0a9bf0"],hover:{size:6}},plotOptions:{radar:{size:140,polygons:{strokeColors:"#9D9F9E",connectorColors:"#9D9F9E"}}},title:{text:"".concat(e.resultInitials," Indikatoren Diagramm")}},series:[{name:"".concat(e.resultInitials," Indikatoren"),data:v},{name:"".concat(e.resultInitials," Sollwerte"),data:Z}],type:"radar",width:"700"},Q+"a"),Object(c.jsxs)(d.a,{style:{width:300,margin:"auto"},title:e.resultTitle,children:[Object(c.jsxs)("span",{style:{margin:0},children:[e.resultInitials," = ",he().toFixed(2)]}),Object(c.jsx)("span",{style:{marginLeft:8},children:Object(c.jsx)(g.a,{style:{color:function(){var t=0,n="#FFFFFF";return v.forEach((function(n,a){var i=e.columns[a].weight*n;t+=i})),t<=.49999999999?"#FF0000":.5<t&&t<=.6599999999?"#ff8e03":.66<t&&t<=.8199999999?"#FFE000":.82<t&&t<=1?"#4EEE94":n}()}})})]}),Object(c.jsx)(E.a,{options:{chart:{id:e.sourceTitle+"Diagramm"},xaxis:{categories:A,labels:{show:!0,style:{colors:["#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000"],fontSize:"12px"}}},yaxis:{forceNiceScale:!0,min:0,max:1,labels:{maxWidth:1,style:{colors:["#000"]},formatter:function(e,t){return e.toFixed(2)}}},legend:{showForSingleSeries:!0,markers:{fillColors:["#4EEE94"]}},stroke:{show:!0,colors:["#4EEE94"]},fill:{colors:["#4EEE94"],opacity:.1},markers:{size:4,colors:["#4EEE94"],hover:{size:6}},plotOptions:{radar:{size:140,polygons:{strokeColors:"#9D9F9E",connectorColors:"#9D9F9E"}}},title:{text:"".concat(e.sourceTitle," Diagramm")}},series:[{name:"".concat(e.resultInitials," Quellen"),data:z}],type:"radar",width:"700"},Q+"b")]})]})]})}function L(e,t){return 0===t?0:e<=t?e/t*100:t<e?t/e*100:(console.error("Something went wrong!"),0)}function P(e){var t=p.a.useForm(),n=Object(s.a)(t,1)[0],a=i.a.useState(!0),l=Object(s.a)(a,2),r=l[0],o=l[1],u=i.a.useState(0),d=Object(s.a)(u,2),g=d[0],m=d[1];return i.a.useEffect((function(){n&&n.resetFields(),m(0),o(!0)}),[n,e.reset]),i.a.useEffect((function(){if(n&&e.initialValues){n.resetFields();var t=e.initialValues.values[0],a=e.initialValues.values[1];n.setFieldsValue({description:e.initialValues.description,actualValue:t,targetValue:a,active:!0}),m(L(t,a)),n.submit()}o(!0)}),[e.initialValues,n]),Object(c.jsx)(p.a,{form:n,name:e.tableID+"_"+e.perspective+"_"+e.row,style:{gridRow:"".concat(e.row),gridColumn:2},onValuesChange:function(e,t){var a=n.getFieldValue("actualValue")||0,i=n.getFieldValue("targetValue")||0;console.log("Fulfilment"),m(L(a,i))},initialValues:{active:!0,step:e.step,description:e.defaultValueName,actualValue:"",targetValue:e.defaultValueTarget||""},children:Object(c.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6,  1fr)",justifyContent:"center",columnGap:16},children:[Object(c.jsx)(p.a.Item,{name:"active",valuePropName:"checked",children:Object(c.jsx)(y.a,{style:{marginTop:4},checked:r,onChange:function(t){o(t.target.checked),e.onActiveChange&&e.onActiveChange(t.target.checked)}})}),Object(c.jsx)(p.a.Item,{name:"step",children:Object(c.jsxs)("div",{children:[Object(c.jsx)(v.a,{disabled:!0,style:{display:"none"}}),Object(c.jsx)("div",{children:e.step})]})}),Object(c.jsx)(p.a.Item,{name:"description",children:Object(c.jsx)(v.a,{disabled:r?e.isKpiRow:!r})}),Object(c.jsx)(p.a.Item,{name:"actualValue",children:Object(c.jsx)(w.a,{disabled:!r,size:"small"},e.tableID+"_"+e.perspective+"_"+e.row+"_actualValue")}),Object(c.jsx)(p.a.Item,{name:"targetValue",children:Object(c.jsx)(w.a,{disabled:r?e.isKpiRow:!r},e.tableID+"_"+e.perspective+"_"+e.row+"_targetValue")}),Object(c.jsx)(p.a.Item,{name:"fulfilment",children:Object(c.jsxs)("div",{style:{color:r?"#000":"#ccc"},children:[g.toFixed(0)," %"]},e.tableID+"_fulfilment_"+e.row)})]})})}function A(e){for(var t=[],n=0;n<e.kpiRowCount+e.piRowCount;n++)t.push(e.defaultValueName[n]);for(var a=[],l=0;l<e.kpiRowCount+e.piRowCount;l++)a.push(0);var r=i.a.useState(0),o=Object(s.a)(r,2),u=o[0],d=o[1],g=i.a.useState(t),m=Object(s.a)(g,2),v=m[0],y=m[1],w=i.a.useState(a),I=Object(s.a)(w,2),k=I[0],F=I[1],C=i.a.useState(0),z=Object(s.a)(C,2),R=z[0],A=z[1],W=i.a.useState(!1),q=Object(s.a)(W,2),K=q[0],Q=q[1],_=i.a.useState(null),G=Object(s.a)(_,2),B=G[0],Z=G[1],U=i.a.useState(0),M=Object(s.a)(U,2),H=M[0],J=M[1],X=i.a.useState([]),Y=Object(s.a)(X,2),$=Y[0],ee=Y[1],te=i.a.useState(),ne=Object(s.a)(te,2),ae=ne[0],ie=ne[1],le=h.a.Dragger,re=Array.from({length:e.kpiRowCount},(function(e,t){return t})).map((function(t,n){return Object(c.jsx)(P,{row:t,isKpiRow:!0,step:"KPI",defaultValueName:e.defaultValueName[n],defaultValueTarget:e.defaultValueTarget[n],tableID:e.tableID,perspective:e.perspective,reset:R,initialValues:$[t]},t)})),se=Array.from({length:e.piRowCount>H-e.kpiRowCount?e.piRowCount:H-e.kpiRowCount},(function(t,n){return e.kpiRowCount+n})).map((function(t){return Object(c.jsx)(P,{row:t,isKpiRow:!1,step:"PI",defaultValueName:e.defaultValueName[t],tableID:e.tableID,perspective:e.perspective,reset:R,initialValues:$[t]},t)}));return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(p.a.Provider,{onFormChange:function(t,n){ie(n.forms);for(var a=0,i=0,l=0,r=0,o=0,c=0,u=[],g=[],m=0,h=Object.entries(n.forms);m<h.length;m++){var j=Object(s.a)(h[m],2),b=(j[0],j[1]);if(b.getFieldValue("active")){var p=b.getFieldValue("actualValue")||0,f=b.getFieldValue("targetValue");if(Number.isFinite(b.getFieldValue("actualValue"))){var x=1;Number.isFinite(f)&&0!==f?p>f?x=f/p:p<=f?x=p/f:console.error("Something went wrong in aggregation calculation!"):x=1,"KPI"===b.getFieldValue("step")?(x<=.5?(a+=1.3*x,i+=1.3):(a+=x,i+=1),i&&(l=a/i)):"PI"===b.getFieldValue("step")&&(x<=.5?(r+=1.3*x,o+=1.3):(r+=x,o+=1),o&&(c=r/o))}g.push(L(p||0,f||0)),F(g),u.push(b.getFieldValue("description"))}}var O=.66*l+.33*c;d(O),y(u),e.onAggregationChange(O)},children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:{justifyContent:"flex-end",display:"flex",marginTop:16},children:[Object(c.jsx)("span",{style:{textAlign:"center",marginRight:20,marginTop:10},children:".csv"}),Object(c.jsx)(j.a,{onClick:function(){Q(!0)},type:"primary",icon:Object(c.jsx)(V.a,{}),size:"large",style:{marginRight:16}}),Object(c.jsx)(b.a,{title:".csv Upload - "+e.perspective,visible:K,onOk:function(){Q(!1),B&&B.originFileObj&&N.a.parse(B.originFileObj,{complete:function(t){var n=[];t.data.forEach((function(t,a){if(0===a||t.length<2)console.log("Heading or empty row!");else if(a>0&&t.length<=e.columns.length-3){for(var i={description:t[0],values:[]},l=1;l<t.length;l++)""===t[l]?i.values.push(void 0):i.values.push(parseFloat(t[l]));n.push(i)}})),J(n.length),ee(n)}}),Z(null)},onCancel:function(){Q(!1),Z(null)},destroyOnClose:!0,children:Object(c.jsxs)(le,{accept:".csv",beforeUpload:function(){return!1},multiple:!1,maxCount:1,name:"file",onChange:function(e){if(e.fileList.length>0){var t=e.fileList[0];Z(t)}},children:[Object(c.jsx)("p",{className:"ant-upload-drag-icon",children:Object(c.jsx)(D.a,{})}),Object(c.jsx)("p",{className:"ant-upload-text",children:"F\xfcgen Sie Dateien per Klick oder Drag and Drop hinzu."}),Object(c.jsx)("p",{className:"ant-upload-hint",children:"Es sind nur .csv Dateien erlaubt. "})]})}),Object(c.jsx)(j.a,{onClick:function(){for(var t=[],n=0,a=Object.entries(ae);n<a.length;n++){var i=Object(s.a)(a[n],2),l=(i[0],[]),r=i[1].getFieldsValue();l.push(r.description,r.actualValue,r.targetValue),t.push(l)}var o=new Blob([N.a.unparse({data:t,fields:["Kennzahl","Ist, [%, \u20ac]","Soll, [%, \u20ac]"]})]),c=document.createElement("a");c.href=URL.createObjectURL(o),c.download="".concat(e.perspective,"_CSV_Export_File.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c)},type:"primary",icon:Object(c.jsx)(S.a,{}),size:"large"})]}),Object(c.jsx)("div",{style:{marginBottom:4,fontWeight:"bold",textDecoration:"underline"},children:e.perspective}),Object(c.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"60% auto",gridAutoFlow:"column"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(e.columns.length,", 1fr)"),justifyItems:"center",columnGap:8,marginTop:40,marginBottom:24},children:e.columns.map((function(e,t){return Object(c.jsx)("span",{style:{fontWeight:"bold",marginLeft:5,marginRight:5},children:e},t)}))}),re,se,Object(c.jsxs)("div",{style:{marginTop:20},children:["Aggregation: ",u.toFixed(2)," "]}),Object(c.jsx)("div",{style:{textAlign:"center",marginTop:4},children:e.tableLegend.map((function(e,t){return Object(c.jsx)("span",{style:{fontSize:10,overflow:"hidden",textOverflow:"ellipsis",width:" 100%"},children:e.shortcut+"..."+e.name+", "},t)}))}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(c.jsx)(x.a,{icon:Object(c.jsx)(T.a,{style:{color:"red"}}),title:"Wollen Sie die Werte dieser Perspektive wirklich zur\xfccksetzen?",okText:"OK",cancelText:"Abbrechen",onConfirm:function(){d(0),y(t),F(a),A(R+1),e.onAggregationChange(0),O.b.success("Daten wurden erfolgreich zur\xfcckgesetzt!")},children:Object(c.jsx)(j.a,{type:"text",danger:!0,style:{marginRight:16,marginTop:24},children:"Zur\xfccksetzen"})})})]}),v.length===k.length&&Object(c.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(c.jsx)(E.a,{options:{chart:{id:e.perspective+"Diagramm"},xaxis:{categories:v,labels:{show:!0,style:{colors:["#000","#000","#000","#000","#000","#000"],fontSize:"12px"}}},yaxis:{forceNiceScale:!0,min:0,max:95,labels:{maxWidth:1,style:{colors:["#000"]},formatter:function(e,t){return e.toFixed(2)}}},legend:{showForSingleSeries:!0,markers:{fillColors:["#FFE000"]}},stroke:{show:!0,colors:["#FFE000"]},fill:{colors:["#FFE000"],opacity:.1},markers:{size:4,colors:["#FFE000"],hover:{size:6}},plotOptions:{radar:{size:140,polygons:{strokeColors:"#9D9F9E",connectorColors:"#9D9F9E"}}},title:{text:"".concat(e.perspective," Diagramm"),align:"center",style:{fontSize:"14px"}}},series:[{name:"Erf\xfcllungsgrad, [%]",data:k}],type:"radar",width:"500",height:"400"},R+"b")})]})]}),Object(c.jsx)(f.a,{})]})})}function W(e){var t=i.a.useState(0),n=Object(s.a)(t,2),a=n[0],l=n[1],r=i.a.useState(0),o=Object(s.a)(r,2),u=o[0],m=o[1],h=i.a.useState(0),j=Object(s.a)(h,2),b=j[0],f=j[1],x=i.a.useState(0),O=Object(s.a)(x,2),v=O[0],y=O[1],w=i.a.useState(0),I=Object(s.a)(w,2),k=I[0],F=I[1];i.a.useEffect((function(){F(C())}),[a,u,b,v]),i.a.useEffect((function(){e.onQualityLevelChange(k*e.maturityWeight)}),[k,e.maturityWeight]);var C=function(){return(a+u+b+v)/4};return Object(c.jsxs)("div",{style:{textAlign:"center",backgroundColor:e.backgroundColor,padding:40,marginTop:40},children:[Object(c.jsx)("h1",{style:{textTransform:"uppercase"},children:e.title}),Object(c.jsx)("p",{children:e.description}),Object(c.jsx)(p.a.Provider,{onFormChange:function(t,n){e.onQualityLevelChange(k*e.maturityWeight)},children:Object(c.jsxs)("div",{style:{marginTop:24},children:[Object(c.jsx)(A,{perspective:"Maschinenperspektive",tableID:e.tableID,columns:e.columns,kpiRowCount:2,defaultValueName:["Rss,ugep","OEE","PI Name 1","PI Name 2","PI Name 3"],defaultValueTarget:[20,85],piRowCount:3,defaultValuePIName:"PI Name",tableLegend:[{shortcut:"Rss,ugep",name:"Ratio ungeplante Stillstandzeit"},{shortcut:"OEE",name:"Overall Equipment Effectiveness"}],onAggregationChange:function(e){l(e)}}),Object(c.jsx)(A,{perspective:"Prozessperspektive",tableID:e.tableID,columns:e.columns,kpiRowCount:3,defaultValueName:["Riha,ugep","EGiha,ugep","EGiha,gep","PI Name 1","PI Name 2","PI Name 3"],defaultValueTarget:[10,75,90],piRowCount:3,defaultValuePIName:"PI Name",tableLegend:[{shortcut:"Riha,ugep",name:"Ratio Instandhaltungsauftr\xe4ge ungeplant"},{shortcut:"EGiha,ugep",name:"Erf\xfcllungsgrad ungeplanter Instandhaltungsauftr\xe4ge"},{shortcut:"EGiha,gep",name:"Erf\xfcllungsgrad geplanter Instandhaltungsauftr\xe4ge"}],onAggregationChange:function(e){m(e)}}),Object(c.jsx)(A,{perspective:"Kostenperspektive",tableID:e.tableID,columns:e.columns,kpiRowCount:2,defaultValueName:["Rihk,ugep","Rihk,personal","PI Name 1","PI Name 2","PI Name 3"],defaultValueTarget:[15,10],piRowCount:3,defaultValuePIName:"PI Name",tableLegend:[{shortcut:"Rihk,ugep",name:"Ratio Instandhaltungskosten ungeplant"},{shortcut:"Rihk,personal",name:"Instandhaltungspersonalksoten-Ratio"}],onAggregationChange:function(e){f(e)}}),Object(c.jsx)(A,{perspective:"Ressourcenperspektive",tableID:e.tableID,columns:e.columns,kpiRowCount:1,defaultValueName:["PS,ugep","PI Name 1","PI Name 2","PI Name 3"],defaultValueTarget:[15],piRowCount:3,defaultValuePIName:"PI Name",tableLegend:[{shortcut:"PS,ugep",name:"geleistete Personenstunden der ungeplanten Instandhaltung"}],onAggregationChange:function(e){y(e)}})]})}),Object(c.jsxs)(d.a,{style:{width:300,margin:"auto"},title:e.resultTitle,children:[Object(c.jsxs)("span",{style:{margin:0},children:[e.resultInitials," = ",k.toFixed(2)]}),Object(c.jsx)("span",{style:{marginLeft:8},children:Object(c.jsx)(g.a,{style:{color:function(){var e,t="#FFFFFF";return(e=(a+u+b+v)/4)<=.49999999999?"#FF0000":.5<e&&e<=.6599999999?"#ff8e03":.66<e&&e<=.8199999999?"#FFE000":.82<e&&e<=1?"#4EEE94":t}()}})})]})]})}var q=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("footer",{style:{padding:16,fontSize:"0.5rem"},children:Object(c.jsx)("div",{})})})};var K=function(){var e=i.a.useState(0),t=Object(s.a)(e,2),n=t[0],a=t[1],l=i.a.useState(0),r=Object(s.a)(l,2),o=r[0],d=r[1],g=i.a.useState(0),h=Object(s.a)(g,2),j=h[0],b=h[1],p=i.a.useState(0),f=Object(s.a)(p,2),x=f[0],O=f[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u,{}),Object(c.jsx)(R,{title:"Datenqualit\xe4tsindikatoren",sourceTitle:"Datenquellen",sourceInputPlaceholder:"Datenquelle",description:Object(c.jsxs)(c.Fragment,{children:["Bitte geben Sie die Datenqualit\xe4tsindikatoren gem\xe4\xdf Ihrer Auswertung ein.",Object(c.jsx)("br",{})," Es werden Zahlen mit zwei Nachkommastellen zwischen Null und Eins akzeptiert. ",Object(c.jsx)("br",{})," Quellen k\xf6nnen selbst benannt werden."]}),backgroundColor:"#e6f5ff",columns:[{name:"Korrektheit",weight:.175925925925926},{name:"Validit\xe4t",weight:.087037037037037},{name:"Provenienz",weight:.0796296296296296},{name:"Vollst\xe4ndigkeit",weight:.133333333333333},{name:"Verf\xfcgbarkeit",weight:.137037037037037},{name:"Granularit\xe4t",weight:.0925925925925926},{name:"Einzigartigkeit",weight:.0166666666666667},{name:"System-Konsistenz",weight:.155555555555556},{name:"Zug\xe4nglichkeit",weight:.0555555555555556},{name:"P\xfcnktlichkeit",weight:.0666666666666667}],resultTitle:"Ergebnis Datenqualit\xe4t:",resultInitials:"DQ",rowsCount:15,tableID:"dq",tableLegend:[],maturityWeight:.36,onQualityLevelChange:function(e){a(e)}}),Object(c.jsx)(R,{title:"Informationsqualit\xe4tsindikatoren",sourceTitle:"Informationsquellen",sourceInputPlaceholder:"Infoquelle",description:Object(c.jsxs)(c.Fragment,{children:["Bitte geben Sie die Informationsqualit\xe4tsindikatoren gem\xe4\xdf Ihrer Auswertung ein.",Object(c.jsx)("br",{})," Es werden Zahlen mit zwei Nachkommastellen zwischen Null und Eins akzeptiert. ",Object(c.jsx)("br",{})," Quellen k\xf6nnen selbst benannt werden."]}),backgroundColor:"#dbf1ff",columns:[{name:"Korrektheit",weight:.203703703703704},{name:"Validit\xe4t",weight:.136574074074074},{name:"Erkl\xe4rbarkeit",weight:.0902777777777778},{name:"Aktualit\xe4t",weight:.141203703703704},{name:"Pr\xe4gnanz",weight:.0231481481481481},{name:"Vollst\xe4ndigkeit",weight:.150462962962963},{name:"P\xfcnktlichkeit",weight:.12037037037037},{name:"Zweckm\xe4\xdfigkeit",weight:.0694444444444444},{name:"Informationsfluss",weight:.0648148148148148}],resultTitle:"Ergebnis Informationsqualit\xe4t:",resultInitials:"IQ",rowsCount:15,tableID:"iq",tableLegend:[],maturityWeight:.23,onQualityLevelChange:function(e){d(e)}}),Object(c.jsx)(R,{title:"Wissensqualit\xe4tsindikatoren",sourceTitle:"Wissensquellen",sourceInputPlaceholder:"Wissensquelle",description:Object(c.jsxs)(c.Fragment,{children:["Bitte geben Sie die Wissensqualit\xe4tsindikatoren gem\xe4\xdf Ihrer Auswertung ein.",Object(c.jsx)("br",{})," Es werden Zahlen mit zwei Nachkommastellen zwischen Null und Eins akzeptiert. ",Object(c.jsx)("br",{})," Quellen k\xf6nnen selbst benannt werden."]}),backgroundColor:"#e6f5ff",columns:[{name:"BnKQ,k",weight:.180555555555556},{name:"EnKQ,k",weight:.305555555555556},{name:"LeKQ,k",weight:.305555555555556},{name:"ZwKQ",weight:.208333333333333}],resultTitle:"Ergebnis Wissensqualit\xe4t:",resultInitials:"KQ",rowsCount:15,tableID:"kq",tableLegend:[{shortcut:"BnKQ,k",name:"Bildungsniveau eines Mitarbeiters"},{shortcut:"EnKQ,k",name:"Erfahrungsniveau eines Mitarbeiters"},{shortcut:"LeKQ,k",name:"Leistungsniveau eines Mitarbeiters"},{shortcut:"ZwKQ",name:"Zweckm\xe4\xdfigkeit eines IT-Systems zur Wissensbereitstellung"}],maturityWeight:.28,onQualityLevelChange:function(e){b(e)}}),Object(c.jsx)(W,{title:"Instandhaltungsqualit\xe4tsindikatoren",description:Object(c.jsxs)(c.Fragment,{children:["Bitte geben Sie die Instandhaltungsqualit\xe4tsindikatoren gem\xe4\xdf Ihrer Auswertung ein.",Object(c.jsx)("br",{})," F\xfcr Prozentangaben werden ganze Zahlen zwischen Null und 100 akzeptiert.",Object(c.jsx)("br",{})," PI Kennzahlen k\xf6nnen selbst benannt werden."]}),backgroundColor:"#dbf1ff",columns:["An/Aus","Stufe","Kennzahl","Ist, [%, \u20ac]","Soll, [%, \u20ac]","Erf\xfcllungsgrad"],resultTitle:"Ergebnis Instandhaltungsqualit\xe4t:",resultInitials:"MQ",maturityWeight:.13,tableID:"mq",onQualityLevelChange:function(e){O(e)}}),Object(c.jsx)(m,{maturityLevel:n+o+j+x}),Object(c.jsx)(q,{})]})};n(232);r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(K,{})}),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.41dc5ec3.chunk.js.map